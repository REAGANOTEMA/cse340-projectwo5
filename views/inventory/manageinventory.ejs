<h1>Manage Inventory</h1>

<% if (errors && errors.length > 0) { %>
  <ul style="color:red;">
    <% errors.forEach(err => { %>
      <li><%= err %></li>
    <% }) %>
  </ul>
<% } %>

<% if (message) { %>
  <p style="color:green;"><%= message %></p>
<% } %>

<!-- Add Item -->
<h2>Add Item</h2>
<form action="/inventory/add" method="POST">
  <label>Name:</label><input type="text" name="name" required>
  <label>Price:</label><input type="number" step="0.01" name="price" required>
  <label>Stock:</label><input type="number" name="stock" required>
  <input type="submit" value="Add Item">
</form>

<!-- Existing Items -->
<h2>Existing Inventory</h2>
<table border="1">
  <tr>
    <th>Name</th>
    <th>Price</th>
    <th>Stock</th>
    <th>Actions</th>
  </tr>
  <% items.forEach(item => { %>
    <tr>
      <td><%= item.name %></td>
      <td><%= item.price %></td>
      <td><%= item.stock %></td>
      <td>
        <form action="/inventory/update" method="POST" style="display:inline;">
          <input type="hidden" name="id" value="<%= item.id %>">
          <input type="text" name="name" value="<%= item.name %>">
          <input type="number" name="price" step="0.01" value="<%= item.price %>">
          <input type="number" name="stock" value="<%= item.stock %>">
          <input type="submit" value="Update">
        </form>
        <a href="/inventory/delete/<%= item.id %>">Delete</a>
      </td>
    </tr>
  <% }) %>
</table>
